!function e(t,n,a){function r(i,u){if(!n[i]){if(!t[i]){var l="function"==typeof require&&require;if(!u&&l)return l(i,!0);if(o)return o(i,!0);var d=new Error("Cannot find module '"+i+"'");throw d.code="MODULE_NOT_FOUND",d}var f=n[i]={exports:{}};t[i][0].call(f.exports,function(e){var n=t[i][1][e];return r(n?n:e)},f,f.exports,e,t,n,a)}return n[i].exports}for(var o="function"==typeof require&&require,i=0;i<a.length;i++)r(a[i]);return r}({1:[function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=e("./ns"),u=a(i),l=e("./util"),d=function(){function e(t){r(this,e),this.origArr=new Uint8Array(t.length);for(var n=0;n<t.length;n++)this.origArr[n]=t[n];this.state="stop",this.reArr=new Array,this.imArr=new Array,this.vol=0;for(var a=u["default"].kernelLen,o=t.length-u["default"].kernelLen;a<o;a++){for(var i=0,d=-u["default"].kernelLen;d<=u["default"].kernelLen;d++)i+=(0,l.inv)(d)*((0,l.normalize)(t[a+d])||0);var f=(0,l.normalize)(t[a]),s=i;this.reArr.push(f),this.imArr.push(s),this.vol=Math.max(this.vol,Math.sqrt(f*f+s*s))}this.$canvas=$("<canvas></canvas>"),this.$canvas.attr("width",u["default"].width),this.$canvas.attr("height",u["default"].height),u["default"].$stage.append(this.$canvas);var c=this;this.$canvas.on("mousedown",function(e){c.state="move",c.play(),$("body").on("mousemove",function(e){"move"===c.state&&c.$canvas.css({left:e.pageX-u["default"].tWidth/2,top:e.pageY-u["default"].tHeight/2})})}),this.$canvas.on("mouseup",function(e){c.state="stop",$("body").off("mousemove")})}return o(e,[{key:"draw",value:function(e){var t=this.$canvas.get(0).getContext("2d");t.clearRect(0,0,u["default"].width,u["default"].height),t.strokeStyle=tinycolor({h:e||0,s:100,v:100}).toRgbString(),t.beginPath();for(var n=this.reArr.length,a=0;a<n;a++){var r,o;r=u["default"].width/2+u["default"].amp*this.reArr[a],o=u["default"].height/2-u["default"].amp*this.imArr[a],t.lineTo(r,o)}t.stroke()}},{key:"play",value:function(){var e,t=new AudioContext,n=t.createBuffer(1,1024,t.sampleRate),a=n.getChannelData(0);for(e=0;e<this.origArr.length;e++)a[e]=(this.origArr[e]-128)/128;var r=t.createBufferSource();r.buffer=n,r.loop=!0,r.loopStart=0,r.loopEnd=n.duration,r.playbackRate.value=1,r.connect(t.destination),r.start(0),r.stop(.5)}}]),e}();n["default"]=d},{"./ns":3,"./util":5}],2:[function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=e("./router"),u=a(i),l=function(){function e(){arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(this,e),console.log("Hello, world!"),this.initialize(),console.log("Thanks, world!")}return o(e,[{key:"initialize",value:function(){var e=this;$(function(){e.router=new u["default"]})}}]),e}();n["default"]=l},{"./router":4}],3:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),window.App=window.App||{};var a=window.App;n["default"]=a},{}],4:[function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){document.querySelector('body[data-page-id="'+e+'"]')&&t()}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=e("./ns"),l=a(u),d=e("../page/common"),f=a(d),s=e("../page/index"),c=a(s),h=e("../page/sub"),v=a(h),g=function(){function e(){r(this,e),this.initialize()}return i(e,[{key:"initialize",value:function(){l["default"].page=l["default"].page||{},(0,f["default"])(),o("index",c["default"]),o("sub",v["default"])}}]),e}();n["default"]=g},{"../page/common":6,"../page/index":7,"../page/sub":8,"./ns":3}],5:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.inv=function(e){return 0===e?0:1/(e*Math.PI)},n.normalize=function(e){return(e-128)/128},n.maxIndexOf=function(e){return _.indexOf(e,_.max(e))},n.mod=function(e,t){return e%t+(e<0?t:0)}},{}],6:[function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(){var e=$("html");i["default"].isSp=!1,i["default"].isPc=!1,i["default"].isTab=!1,e.hasClass("is-sp")&&(i["default"].isSp=!0),e.hasClass("is-pc")&&(i["default"].isPc=!0),e.hasClass("is-tab")&&(i["default"].isTab=!0)}Object.defineProperty(n,"__esModule",{value:!0});var o=e("../module/ns"),i=a(o);n["default"]=function(){console.log("page common"),r()}},{"../module/ns":3}],7:[function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var r=e("../module/ns"),o=a(r),i=e("../module/util"),u=e("../module/analytic-signal"),l=a(u);n["default"]=function(){function e(){var e,t=document.getElementById("audio"),n=($(".output"),document.getElementById("canvas")),a=n.getContext("2d");o["default"].$stage=$(".snapshot"),n.width=o["default"].width,n.height=o["default"].height,navigator.getUserMedia?navigator.getUserMedia({audio:!0},function(n){var r=URL.createObjectURL(n);t.src=r,t.volume=0;var u=new AudioContext,l=u.createMediaStreamSource(n),d=u.createAnalyser(),f=new Uint8Array(d.frequencyBinCount);e=new Uint8Array(d.frequencyBinCount),l.connect(d);var s=function c(){d.getByteFrequencyData(f),d.getByteTimeDomainData(e);var t=u.sampleRate/d.fftSize,n=(0,i.maxIndexOf)(f)*t,r=243,l=Math.log(n/r)/Math.log(2),s=360*(0,i.mod)(l,1);o["default"].currentHue=s;var h,v;a.clearRect(0,0,o["default"].width,o["default"].height),a.strokeStyle=tinycolor({h:s,s:100,v:100}).toRgbString(),a.beginPath();for(var h=o["default"].kernelLen,g=e.length-o["default"].kernelLen;h<g;h++){var m=0;for(v=-o["default"].kernelLen;v<=o["default"].kernelLen;v++)m+=(0,i.inv)(v)*((0,i.normalize)(e[h+v])||0);var p=o["default"].width/2+o["default"].amp*(0,i.normalize)(e[h]),w=o["default"].height/2-o["default"].amp*m;a.lineTo(p,w)}a.stroke(),requestAnimationFrame(c)};s()},function(e){console.log("The following error occured: "+e)}):console.log("getUserMedia not supported"),$(".btn-rec").on("click",function(){var t=new l["default"](e);t.$canvas.css("left",300+500*Math.random()),t.$canvas.css("top",500*Math.random()),t.draw(o["default"].currentHue),t.play()})}navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia,window.URL=window.URL||window.webkitURL||window.mozURL||window.msURL,window.AudioContext=window.AudioContext||window.webkitAudioContext||window.mozAudioContext||window.msAudioContext,o["default"].width=256,o["default"].height=256,o["default"].tWidth=128,o["default"].tHeight=128,o["default"].kernelLen=127,o["default"].amp=128,window.addEventListener("load",e,!1)}},{"../module/analytic-signal":1,"../module/ns":3,"../module/util":5}],8:[function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var r=e("../module/ns");a(r);n["default"]=function(){console.log("sub page")}},{"../module/ns":3}],9:[function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}var r=e("./module/ns"),o=a(r),i=e("./module/main"),u=a(i);o["default"].main=new u["default"]},{"./module/main":2,"./module/ns":3}]},{},[9]);