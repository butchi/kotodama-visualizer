!function b(u,t,c){function h(bb,ub){if(!t[bb]){if(!u[bb]){var tb="function"==typeof require&&require;if(!ub&&tb)return tb(bb,!0);if(i)return i(bb,!0);var cb=new Error("Cannot find module '"+bb+"'");throw cb.code="MODULE_NOT_FOUND",cb}var hb=t[bb]={exports:{}};u[bb][0].call(hb.exports,function(b){var t=u[bb][1][b];return h(t?t:b)},hb,hb.exports,b,u,t,c)}return t[bb].exports}for(var i="function"==typeof require&&require,bb=0;bb<c.length;bb++)h(c[bb]);return h}({1:[function(b,u,t){"use strict";function c(b){return b&&b.__esModule?b:{"default":b}}function h(b,u){if(!(b instanceof u))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function b(b,u){for(var t=0;t<u.length;t++){var c=u[t];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(b,c.key,c)}}return function(u,t,c){return t&&b(u.prototype,t),c&&b(u,c),u}}(),bb=b("./ns"),ub=c(bb),tb=b("./util"),cb=function(){function b(u){h(this,b),this.origArr=new Uint8Array(u.length);for(var t=0;t<u.length;t++)this.origArr[t]=u[t];this.state="stop",this.reArr=new Array,this.imArr=new Array,this.vol=0;for(var c=ub["default"].kernelLen,i=u.length-ub["default"].kernelLen;i>c;c++){for(var bb=0,cb=-ub["default"].kernelLen;cb<=ub["default"].kernelLen;cb++)bb+=(0,tb.inv)(cb)*((0,tb.normalize)(u[c+cb])||0);var hb=(0,tb.normalize)(u[c]),ib=bb;this.reArr.push(hb),this.imArr.push(ib),this.vol=Math.max(this.vol,Math.sqrt(hb*hb+ib*ib))}this.$canvas=$("<canvas></canvas>"),this.$canvas.attr("width",ub["default"].width),this.$canvas.attr("height",ub["default"].height),ub["default"].$stage.append(this.$canvas);var bu=this;this.$canvas.on("mousedown",function(b){bu.state="move",bu.play(),$("body").on("mousemove",function(b){"move"===bu.state&&bu.$canvas.css({left:b.pageX-ub["default"].tWidth/2,top:b.pageY-ub["default"].tHeight/2})})}),this.$canvas.on("mouseup",function(b){bu.state="stop",$("body").off("mousemove")})}return i(b,[{key:"draw",value:function(b){var u=this.$canvas.get(0).getContext("2d");u.clearRect(0,0,ub["default"].width,ub["default"].height),u.strokeStyle=tinycolor({h:b||0,s:100,v:100}).toRgbString(),u.beginPath();for(var t=this.reArr.length,c=0;t>c;c++){var h,i;h=ub["default"].width/2+ub["default"].amp*this.reArr[c],i=ub["default"].height/2-ub["default"].amp*this.imArr[c],u.lineTo(h,i)}u.stroke()}},{key:"play",value:function(){var b,u=new AudioContext,t=u.createBuffer(1,1024,u.sampleRate),c=t.getChannelData(0);for(b=0;b<this.origArr.length;b++)c[b]=(this.origArr[b]-128)/128;var h=u.createBufferSource();h.buffer=t,h.loop=!0,h.loopStart=0,h.loopEnd=t.duration,h.playbackRate.value=1,h.connect(u.destination),h.start(0),h.stop(.5)}}]),b}();t["default"]=cb},{"./ns":3,"./util":5}],2:[function(b,u,t){"use strict";function c(b){return b&&b.__esModule?b:{"default":b}}function h(b,u){if(!(b instanceof u))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function b(b,u){for(var t=0;t<u.length;t++){var c=u[t];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(b,c.key,c)}}return function(u,t,c){return t&&b(u.prototype,t),c&&b(u,c),u}}(),bb=b("./router"),ub=c(bb),tb=function(){function b(){arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};h(this,b),console.log("Hello, world!"),this.initialize(),console.log("Thanks, world!")}return i(b,[{key:"initialize",value:function(){var b=this;$(function(){b.router=new ub["default"]})}}]),b}();t["default"]=tb},{"./router":4}],3:[function(b,u,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),window.App=window.App||{};var c=window.App;t["default"]=c},{}],4:[function(b,u,t){"use strict";function c(b){return b&&b.__esModule?b:{"default":b}}function h(b,u){if(!(b instanceof u))throw new TypeError("Cannot call a class as a function")}function i(b,u){document.querySelector('body[data-page-id="'+b+'"]')&&u()}Object.defineProperty(t,"__esModule",{value:!0});var bb=function(){function b(b,u){for(var t=0;t<u.length;t++){var c=u[t];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(b,c.key,c)}}return function(u,t,c){return t&&b(u.prototype,t),c&&b(u,c),u}}(),ub=b("./ns"),tb=c(ub),cb=b("../page/common"),hb=c(cb),ib=b("../page/index"),bu=c(ib),uu=b("../page/sub"),tu=c(uu),cu=function(){function b(){h(this,b),this.initialize()}return bb(b,[{key:"initialize",value:function(){tb["default"].page=tb["default"].page||{},(0,hb["default"])(),i("index",bu["default"]),i("sub",tu["default"])}}]),b}();t["default"]=cu},{"../page/common":6,"../page/index":7,"../page/sub":8,"./ns":3}],5:[function(b,u,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.inv=function(b){return 0===b?0:1/(b*Math.PI)},t.normalize=function(b){return(b-128)/128},t.maxIndexOf=function(b){return _.indexOf(b,_.max(b))},t.mod=function(b,u){return b%u+(0>b?u:0)}},{}],6:[function(b,u,t){"use strict";function c(b){return b&&b.__esModule?b:{"default":b}}function h(){var b=$("html");bb["default"].isSp=!1,bb["default"].isPc=!1,bb["default"].isTab=!1,b.hasClass("is-sp")&&(bb["default"].isSp=!0),b.hasClass("is-pc")&&(bb["default"].isPc=!0),b.hasClass("is-tab")&&(bb["default"].isTab=!0)}Object.defineProperty(t,"__esModule",{value:!0});var i=b("../module/ns"),bb=c(i);t["default"]=function(){console.log("page common"),h()}},{"../module/ns":3}],7:[function(b,u,t){"use strict";function c(b){return b&&b.__esModule?b:{"default":b}}Object.defineProperty(t,"__esModule",{value:!0});var h=b("../module/ns"),i=c(h),bb=b("../module/util"),ub=b("../module/analytic-signal"),tb=c(ub);t["default"]=function(){function b(){var b,u=document.getElementById("audio"),t=($(".output"),document.getElementById("canvas")),c=t.getContext("2d");i["default"].$stage=$(".snapshot"),t.width=i["default"].width,t.height=i["default"].height,navigator.getUserMedia?navigator.getUserMedia({audio:!0},function(t){var h=URL.createObjectURL(t);u.src=h,u.volume=0;var ub=new AudioContext,tb=ub.createMediaStreamSource(t),cb=ub.createAnalyser(),hb=new Uint8Array(cb.frequencyBinCount);b=new Uint8Array(cb.frequencyBinCount),tb.connect(cb);var ib=function bu(){cb.getByteFrequencyData(hb),cb.getByteTimeDomainData(b);var u=ub.sampleRate/cb.fftSize,t=(0,bb.maxIndexOf)(hb)*u,h=243,tb=Math.log(t/h)/Math.log(2),ib=360*(0,bb.mod)(tb,1);i["default"].currentHue=ib;var uu,tu;c.clearRect(0,0,i["default"].width,i["default"].height),c.strokeStyle=tinycolor({h:ib,s:100,v:100}).toRgbString(),c.beginPath();for(var uu=i["default"].kernelLen,cu=b.length-i["default"].kernelLen;cu>uu;uu++){var hu=0;for(tu=-i["default"].kernelLen;tu<=i["default"].kernelLen;tu++)hu+=(0,bb.inv)(tu)*((0,bb.normalize)(b[uu+tu])||0);var iu=i["default"].width/2+i["default"].amp*(0,bb.normalize)(b[uu]),bt=i["default"].height/2-i["default"].amp*hu;c.lineTo(iu,bt)}c.stroke(),requestAnimationFrame(bu)};ib()},function(b){console.log("The following error occured: "+b)}):console.log("getUserMedia not supported"),$(".btn-rec").on("click",function(){var u=new tb["default"](b);u.$canvas.css("left",300+500*Math.random()),u.$canvas.css("top",500*Math.random()),u.draw(i["default"].currentHue),u.play()})}navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia,window.URL=window.URL||window.webkitURL||window.mozURL||window.msURL,window.AudioContext=window.AudioContext||window.webkitAudioContext||window.mozAudioContext||window.msAudioContext,i["default"].width=256,i["default"].height=256,i["default"].tWidth=128,i["default"].tHeight=128,i["default"].kernelLen=127,i["default"].amp=128,window.addEventListener("load",b,!1)}},{"../module/analytic-signal":1,"../module/ns":3,"../module/util":5}],8:[function(b,u,t){"use strict";function c(b){return b&&b.__esModule?b:{"default":b}}Object.defineProperty(t,"__esModule",{value:!0});var h=b("../module/ns");c(h);t["default"]=function(){console.log("sub page")}},{"../module/ns":3}],9:[function(b,u,t){"use strict";function c(b){return b&&b.__esModule?b:{"default":b}}var h=b("./module/ns"),i=c(h),bb=b("./module/main"),ub=c(bb);i["default"].main=new ub["default"]},{"./module/main":2,"./module/ns":3}]},{},[9]);